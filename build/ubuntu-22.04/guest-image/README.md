# Ubuntu 22.04 TDX Guest Image

Customize Ubuntu 22.04 cloud image and install TDX guest kernel.

## Prerequisites

- Install qemu-img and virt-customize via `sudo apt install -y qemu-utils libguestfs-tools` .

## Steps

- Run the script to generate `td-guest-ubuntu-22.04.qcow2` .

```
Usage: create-ubuntu-image.sh [OPTION]...
  -h                        Show this help
  -c                        Create customize image (not from Ubuntu official cloud image)
  -f                        Force to recreate the output image
  -n                        Guest host name, default is "tdx-guest"
  -u                        Guest user name, default is "tdx"
  -p                        Guest password, default is "123456"
  -s                        Specify the size of guest image
  -o <output file>          Specify the output file, default is tdx-guest-ubuntu-22.04.img
  -r <guest repo>           Specify the directory including guest RPM packages, generated by build-repo.sh
```
